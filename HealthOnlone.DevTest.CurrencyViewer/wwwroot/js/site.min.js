$(document).ready(function(){function i(){var n=this;n.datasources=ko.observableArray()}function r(){$.ajax("/api/v1/datasources").done(function(t){n=t;f(n)}).fail(function(){console.log("failed to get data sources")})}function u(n){function i(n,i){for(var e,o,u={source:i.dataSourceName,currencies:[]},f=Object.keys(n[0]),r=0;r<n.length;r++)e={name:n[r][f[0]],rate:n[r][f[2]]},u.currencies.push(e);o=ko.mapping.fromJS(u);t.datasources().push(o)}$.ajax({url:"https://"+n.dataSourceUrl,type:"GET",crossDomain:!0,dataType:"json",source:n,success:function(t){i(t,n)},error:function(){alert("failed to get rates")}})}function f(n){for(var t=0;t<n.length;t++)u(n[t])}var n,t=new i;ko.applyBindings(t);r()});